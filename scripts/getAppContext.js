module.exports=function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=2)}([function(e,r){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,r=0;r<16;r++)0==(3&r)&&(e=4294967296*Math.random()),o[r]=e>>>((3&r)<<3)&255;return o}}},function(e,r){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0,o=t;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},function(e,r,t){"use strict";t.r(r),t.d(r,"getContext",function(){return s});const n=t(3),o=t(6),i=t(7),a=e=>Object.keys(e).map(r=>`${r}_${e[r]}`).sort().join("."),s=async(e,r)=>{const t=e.request,{pathname:s,search:u}=new URL(t.url),{headers:c}=t,p=o.parse(c.get("Cookie")||""),f=(p._vq||c.get("request-id"),i.parse(u.split("?")[1]||"")),{resolver:l,prepareCmsCache:d}=(e=>{const r=async({userId:r,queryName:t,args:n})=>Promise.resolve([`${t}_${a(n)}`,await fetch(`https://api-${e}.edgeyates.com/resolve-feature/${t}?userId=${r}&args=${encodeURIComponent(JSON.stringify(n))}`).then(e=>e.json()).catch(e=>{console.log(e)})]);return{resolver:r,prepareCmsCache:(e,t,n)=>n[e]?Promise.all(n[e].map(({queryName:e,args:n})=>r({userId:t,queryName:e,args:n}))).then(e=>e.filter(([e,r])=>r.assignment).reduce((e,r)=>Object.assign({},e,{[r[0]]:r[1]}),{})):Promise.resolve({})}})(r.projectId);return{gifLoggerUrl:r.gifLoggerUrl,userId:n(),requestId:n(),params:f,cookies:p,cookie:o,resolver:l,prepareCmsCache:d,pathname:s,headers:c,projectId:r.projectId,logger:async e=>{console.log(),console.log(JSON.stringify(e,null,4))},color:"localhost"}}},function(e,r,t){var n=t(4),o=t(5),i=o;i.v1=n,i.v4=o,e.exports=i},function(e,r,t){var n,o,i=t(0),a=t(1),s=0,u=0;e.exports=function(e,r,t){var c=r&&t||0,p=r||[],f=(e=e||{}).node||n,l=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==l){var d=i();null==f&&(f=n=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==l&&(l=o=16383&(d[6]<<8|d[7]))}var m=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,y=m-s+(v-u)/1e4;if(y<0&&void 0===e.clockseq&&(l=l+1&16383),(y<0||m>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=m,u=v,o=l;var g=(1e4*(268435455&(m+=122192928e5))+v)%4294967296;p[c++]=g>>>24&255,p[c++]=g>>>16&255,p[c++]=g>>>8&255,p[c++]=255&g;var h=m/4294967296*1e4&268435455;p[c++]=h>>>8&255,p[c++]=255&h,p[c++]=h>>>24&15|16,p[c++]=h>>>16&255,p[c++]=l>>>8|128,p[c++]=255&l;for(var b=0;b<6;++b)p[c+b]=f[b];return r||a(p)}},function(e,r,t){var n=t(0),o=t(1);e.exports=function(e,r,t){var i=r&&t||0;"string"==typeof e&&(r="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,r)for(var s=0;s<16;++s)r[i+s]=a[s];return r||o(a)}},function(e,r,t){"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */r.parse=function(e,r){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var t={},o=r||{},a=e.split(i),u=o.decode||n,c=0;c<a.length;c++){var p=a[c],f=p.indexOf("=");if(!(f<0)){var l=p.substr(0,f).trim(),d=p.substr(++f,p.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),null==t[l]&&(t[l]=s(d,u))}}return t},r.serialize=function(e,r,t){var n=t||{},i=n.encode||o;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var s=i(r);if(s&&!a.test(s))throw new TypeError("argument val is invalid");var u=e+"="+s;if(null!=n.maxAge){var c=n.maxAge-0;if(isNaN(c))throw new Error("maxAge should be a Number");u+="; Max-Age="+Math.floor(c)}if(n.domain){if(!a.test(n.domain))throw new TypeError("option domain is invalid");u+="; Domain="+n.domain}if(n.path){if(!a.test(n.path))throw new TypeError("option path is invalid");u+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+n.expires.toUTCString()}n.httpOnly&&(u+="; HttpOnly");n.secure&&(u+="; Secure");if(n.sameSite){var p="string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite;switch(p){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var n=decodeURIComponent,o=encodeURIComponent,i=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,r){try{return r(e)}catch(r){return e}}},function(e,r,t){"use strict";r.decode=r.parse=t(8),r.encode=r.stringify=t(9)},function(e,r,t){"use strict";function n(e,r){return Object.prototype.hasOwnProperty.call(e,r)}e.exports=function(e,r,t,i){r=r||"&",t=t||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(r);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var p=0;p<c;++p){var f,l,d,m,v=e[p].replace(s,"%20"),y=v.indexOf(t);y>=0?(f=v.substr(0,y),l=v.substr(y+1)):(f=v,l=""),d=decodeURIComponent(f),m=decodeURIComponent(l),n(a,d)?o(a[d])?a[d].push(m):a[d]=[a[d],m]:a[d]=m}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,r,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,t,s){return r=r||"&",t=t||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),function(a){var s=encodeURIComponent(n(a))+t;return o(e[a])?i(e[a],function(e){return s+encodeURIComponent(n(e))}).join(r):s+encodeURIComponent(n(e[a]))}).join(r):s?encodeURIComponent(n(s))+t+encodeURIComponent(n(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,r){if(e.map)return e.map(r);for(var t=[],n=0;n<e.length;n++)t.push(r(e[n],n));return t}var a=Object.keys||function(e){var r=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}}]);